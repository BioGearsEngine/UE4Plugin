<?xml version="1.0" encoding="utf-8"?>
<!-- steps to add to build additions -->
<root
  xmlns:android="http://schemas.android.com/apk/res/android">
  <!-- init section is always evaluated once per architecture -->
  <init>
    <setBool result="bSupported" value="false"/>
    <isArch arch="armeabi-v7a">
      <setBool
      result="bSupported" value="true"/>
    <!-- optional files or directories to copy to Intermediate/Android/APK -->
    </isArch>
    <isArch arch="arm64-v8a">
      <setBool result="bSupported" value="true"/>
    </isArch>
  </init>


  <isArch arch="armeabi-v7a">
    <setBool
    result="bSupported" value="true"/>
    <!-- optional files or directories to copy to Intermediate/Android/APK -->
    <resourceCopies>
      <log text="Copying Thirdparty Libraries"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libLog4cpp.so" dst="$S(BuildDir)/libs/armeabi-v7a/libLog4cpp.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libbiogears.so" dst="$S(BuildDir)/libs/armeabi-v7a/libbiogears.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libbiogears_cdm.so" dst="$S(BuildDir)/libs/armeabi-v7a/libbiogears_cdm.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libicudata.so" dst="$S(BuildDir)/libs/armeabi-v7a/libicudata.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libicui18n.so" dst="$S(BuildDir)/libs/armeabi-v7a/libicui18n.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libicuio.so" dst="$S(BuildDir)/libs/armeabi-v7a/libicuio.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libicutu.so" dst="$S(BuildDir)/libs/armeabi-v7a/libicutu.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libicuuc.so" dst="$S(BuildDir)/libs/armeabi-v7a/libicuuc.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/armeabi-v7a/libxerces-c-3.2.so" dst="$S(BuildDir)/libs/armeabi-v7a/libxerces-c-3.2.so"/>
    </resourceCopies>
  </isArch>

  <isArch arch="arm64-v8a">
    <resourceCopies>
      <log text="Copying libbiogears.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libLog4cpp.so" dst="$S(BuildDir)/libs/arm64-v8a/libLog4cpp.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libbiogears.so" dst="$S(BuildDir)/libs/arm64-v8a/libbiogears.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libbiogears_cdm.so" dst="$S(BuildDir)/libs/arm64-v8a/libbiogears_cdm.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libicudata.so" dst="$S(BuildDir)/libs/arm64-v8a/libicudata.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libicui18n.so" dst="$S(BuildDir)/libs/arm64-v8a/libicui18n.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libicuio.so" dst="$S(BuildDir)/libs/arm64-v8a/libicuio.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libicutu.so" dst="$S(BuildDir)/libs/arm64-v8a/libicutu.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libicuuc.so" dst="$S(BuildDir)/libs/arm64-v8a/libicuuc.so"/>
      <copyFile src="$S(PluginDir)/Binaries/Android/arm64-v8a/libxerces-c-3.2.so" dst="$S(BuildDir)/libs/arm64-v8a/libxerces-c-3.2.so"/>
    </resourceCopies>
  </isArch>

  <!-- optional libraries to load in GameActivity.java before libUE4.so -->
  <soLoadLibrary>
    <!-- <if condition="bSupported"> -->
    <!-- <true> -->
  <loadLibrary name="biogears" failmsg="ERROR ANDROID: failed to load biogears library"/> <!--</true> -->
    <!-- </if> -->
  </soLoadLibrary>
</root>
